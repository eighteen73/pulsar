@use "tools" as *;

// Star rating styles.
.woocommerce .stars a,
.woocommerce .star-rating {
	color: var(--wp--preset--color--brand);
}

.woocommerce-page {

	// Shop table styles.
	table.shop_table {
		border: unset;
		font-size: var(--wp--preset--font-size--xs);
		margin: unset;

		th,
		td {
			padding: var(--wp--preset--spacing--lg) var(--wp--preset--spacing--md);
		}

		thead th {
			background-color: var(--wp--preset--color--tint);
			font-weight: var(--wp--custom--typography--font-weight--heading);
			text-transform: uppercase;
		}

		tbody {
			th,
			td {
				border: unset;
			}

			th {
				font-weight: var(--wp--custom--typography--font-weight--heading);
			}
		}

		tr:where(:not(:first-child)) {
			th,
			td {
				@media (--md) {
					border-top: 1px solid var(--wp--custom--color--border);
				}
			}
		}

		tr:nth-child(even) td {
			background-color: unset;
		}

		tr + tr {
			border-top: 1px solid var(--wp--custom--color--border);
			margin-top: var(--wp--preset--spacing--lg);
			padding-top: var(--wp--preset--spacing--lg);

			@media (--md) {
				border-top: unset;
				margin-top: unset;
				padding-top: unset;
			}
		}

		tfoot th {
			border-top: 1px solid var(--wp--custom--color--border);
			font-weight: var(--wp--custom--typography--font-weight--heading);
		}

		.woocommerce-button {
			@include button(link);
			margin: unset;

			&:where(.view) {
				@include button(primary);
				width: 100%;

				@media (--md) {
					@include button(link);
					width: auto;
				}
			}
		}
	}

	// Responsive table styles.
	table.shop_table_responsive {
		th,
		td {
			padding: var(--wp--preset--spacing--sm) 0;

			@media (--md) {
				padding: var(--wp--preset--spacing--lg) var(--wp--preset--spacing--md);
			}
		}

		tbody th {
			@media (--md-down) {
				display: block;

				&::before {
					content: attr(data-title) ": ";
					font-weight: var(--wp--custom--typography--font-weight--heading);
				}

				a {
					float: right;
				}
			}
		}
	}
}

.woocommerce-password-strength {
	font-size: var(--wp--preset--font-size--sm);
	font-weight: var(--wp--custom--typography--font-weight--heading);
	padding: var(--wp--preset--spacing--md);
}

.woocommerce-password-hint {
	color: var(--wp--preset--color--base-accent);
	font-size: var(--wp--preset--font-size--sm);
	margin-top: var(--wp--preset--spacing--md);
}

.form-row {
	em {
		color: var(--wp--preset--color--base-accent);
		display: block;
		font-size: var(--wp--preset--font-size--sm);
		font-style: normal;
		margin-top: var(--wp--preset--spacing--md);
	}
}

// Select2 styles.
// Some styles need to be scoped, but some need to be global.
.woocommerce-page {
	.select2-container .select2-search--dropdown .select2-search__field {
		@include field-input;
	}

	form .form-row {
		.select2-container {
			font-size: inherit;
		}

		.select2-container .select2-selection--single .select2-selection__arrow {
			background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3e%3c/svg%3e");
			background-position: right var(--wp--preset--spacing--md) center;
			background-repeat: no-repeat;
			background-size: 1.5em 1.5em;
			right: var(--wp--preset--spacing--md);
		}

		.select2-selection--single .select2-selection__rendered {
			color: var(--wp--preset--color--contrast);
			padding-block: var(--wp--preset--spacing--md);
			padding-inline: var(--wp--preset--spacing--lg);
		}

		.select2-selection,
		.select2-dropdown {
			border: 1px solid var(--wp--custom--color--border);
			border-radius: calc(var(--wp--custom--global--is-rounded) * var(--wp--custom--border--radius--sm));
			color: var(--wp--preset--color--contrast);
		}

		.select2-search--dropdown {
			padding: 0 var(--wp--preset--spacing--lg) var(--wp--preset--spacing--md);
		}
	}

	.select2-dropdown {
		color: var(--wp--preset--color--contrast);
	}
}

.select2-container .select2-dropdown {
	border: 1px solid var(--wp--custom--color--border);

}

.select2-container--default .select2-results__option--highlighted[aria-selected],
.select2-container--default .select2-results__option--highlighted[data-selected] {
	background-color: var(--wp--preset--color--brand-accent);
	color: var(--wp--preset--color--contrast);
}

// Notice banner styles.
.wc-block-components-notice-banner {
	border: unset;
	border-radius: calc(var(--wp--custom--global--is-rounded) * var(--wp--custom--border--radius--sm));
	color: var(--wp--preset--color--contrast);
	font-size: var(--wp--preset--font-size--sm);
	font-weight: var(--wp--custom--typography--font-weight--heading);
	gap: var(--wp--preset--spacing--md);
	line-height: var(--wp--custom--typography--line-height--normal);
	margin-block: var(--wp--preset--spacing--lg);
	padding: var(--wp--preset--spacing--lg) var(--wp--preset--spacing--xl) !important; // stylelint-disable-line declaration-no-important -- WC uses !important

	> .wc-block-components-notice-banner__content .wc-forward {
		color: var(--wp--preset--color--contrast) !important; // stylelint-disable-line declaration-no-important -- WC uses !important
		font-size: var(--wp--preset--font-size--xs);
		opacity: 1;

		&:focus-visible {
			@include focus-block;
		}
	}

	&.is-error {
		background-color: var(--wp--custom--color--error-accent);
		color: var(--wp--custom--color--error);

		> svg {
			background-color: var(--wp--custom--color--error);
		}
	}

	&.is-warning {
		background-color: var(--wp--custom--color--warning-accent);
		color: var(--wp--preset--color--contrast);

		> svg {
			background-color: var(--wp--custom--color--warning);
		}
	}

	&.is-success {
		background-color: var(--wp--custom--color--success-accent);
		color: var(--wp--custom--color--success);

		> svg {
			background-color: var(--wp--custom--color--success);
		}
	}
}
