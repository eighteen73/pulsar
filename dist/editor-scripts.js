!function(){"use strict";var e=window.wp.hooks,t=window.lodash;function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},s.apply(this,arguments)}(0,e.addFilter)("blocks.registerBlockType","pulsar/heading-block/class-names",(function(e,s){return"core/heading"!==s?e:(0,t.assign)({},e,{supports:(0,t.assign)({},e.supports,{className:!0})})})),(0,e.addFilter)("blocks.registerBlockType","pulsar/list-block/class-names",(function(e,s){return"core/list"!==s?e:(0,t.assign)({},e,{supports:(0,t.assign)({},e.supports,{className:!0})})})),(0,e.addFilter)("blocks.registerBlockType","pulsar/paragraph-block/class-names",(function(e,s){return"core/paragraph"!==s?e:(0,t.assign)({},e,{supports:(0,t.assign)({},e.supports,{className:!0})})}));var a=window.wp.element,o=window.wp.compose,i=window.wp.blockEditor,l=window.wp.components,n=window.wp.i18n;const r=(0,o.createHigherOrderComponent)((e=>t=>{const{attributes:{stackedBreakpoint:s,isReversedWhenStacked:o},setAttributes:r,name:c}=t;return"core/columns"!==c?(0,a.createElement)(e,t):(0,a.createElement)(a.Fragment,null,(0,a.createElement)(e,t),(0,a.createElement)(i.InspectorControls,null,(0,a.createElement)(l.PanelBody,null,(0,a.createElement)(l.__experimentalToggleGroupControl,{label:(0,n.__)("Stack on","pulsar"),value:s,onChange:e=>r({stackedBreakpoint:e}),isBlock:!0,help:(0,n.__)("Set the breakpoint size where you wish to stack the columns.","pulsar")},(0,a.createElement)(l.__experimentalToggleGroupControlOption,{value:"sm",label:(0,n.__)("Small","pulsar")}),(0,a.createElement)(l.__experimentalToggleGroupControlOption,{value:"md",label:(0,n.__)("Medium","pulsar")}),(0,a.createElement)(l.__experimentalToggleGroupControlOption,{value:"lg",label:(0,n.__)("Large","pulsar")})),(0,a.createElement)(l.ToggleControl,{label:(0,n.__)("Reverse when stacked","pulsar"),help:(0,n.__)("Allows column order to be reversed when stacked. Useful for example if you have an image in the right column, but want it to be on top when stacked."),checked:o,onChange:()=>r({isReversedWhenStacked:!o})}))))}),"withInspectorControl"),c=(0,o.createHigherOrderComponent)((e=>t=>{const{attributes:{stackedBreakpoint:o,reverseOnStacked:i},name:l}=t;if("core/columns"!==l)return(0,a.createElement)(e,t);const n=[];return o&&n.push(`is-stacked-on-${o}`),i&&n.push("is-reversed-on-stacked"),(0,a.createElement)(e,s({},t,{className:n.join(" ")}))}),"withClientIdClassName");(0,e.addFilter)("blocks.registerBlockType","pulsar/columns-block/block-settings",(function(e,s){return"core/columns"!==s?e:(0,t.assign)({},e,{supports:(0,t.merge)(e.supports,{className:!0}),attributes:(0,t.merge)(e.attributes,{stackedBreakpoint:{type:"string",default:"md"},isReversedWhenStacked:{type:"boolean",default:!1}})})})),(0,e.addFilter)("editor.BlockEdit","pulsar/columns-block/add-inspector-controls",r),(0,e.addFilter)("editor.BlockListBlock","pulsar/columns-block/add-editor-classes",c),(0,e.addFilter)("blocks.getSaveContent.extraProps","pulsar/columns-block/add-frontend-classes",(function(e,s,a){if("core/columns"!==s.name)return e;const o=[e.className],{stackedBreakpoint:i,isReversedWhenStacked:l}=a;return o.push(`is-stacked-on-${i}`),l&&o.push("is-reversed-when-stacked"),(0,t.assign)({},e,{className:o.join(" ")})}));var d=window.wp.data,p=JSON.parse('{"Xd":{"bK":{"R":"var(--wp--custom--layout--content-size)"}}}');(0,d.subscribe)((()=>{p.Xd.bK.R&&document.body.style.setProperty("--pulsar-content-width",p.Xd.bK.R);const e=document.querySelector(".title-visibility"),t=document.querySelector(".edit-post-visual-editor__post-title-wrapper");if(null===e&&null!==t){let e="";!1===wp.data.select("core/editor").getEditedPostAttribute("meta").display_post_title?(e='<span class="dashicons dashicons-hidden title-visibility" data-tooltip="Enable Title"></span>',t.classList.toggle("invisible")):e='<span class="dashicons dashicons-visibility title-visibility" data-tooltip="Disable Title"></span>',t.insertAdjacentHTML("beforeend",e),document.querySelector(".title-visibility").addEventListener("click",(function(){t.classList.toggle("invisible"),this.classList.contains("dashicons-hidden")?(this.classList.add("dashicons-visibility"),this.classList.remove("dashicons-hidden"),this.dataset.tooltip="Disable Title",wp.data.dispatch("core/editor").editPost({meta:{display_post_title:!0}})):(this.classList.add("dashicons-hidden"),this.classList.remove("dashicons-visibility"),this.dataset.tooltip="Enable Title",wp.data.dispatch("core/editor").editPost({meta:{display_post_title:!1}}))}))}}))}();